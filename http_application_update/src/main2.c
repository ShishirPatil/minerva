/*
 * Copyright (c) 2019 Nordic Semiconductor ASA
 *
 * SPDX-License-Identifier: LicenseRef-BSD-5-Clause-Nordic
 */
#include <zephyr.h>
#include <gpio.h>
#include <flash.h>
#include <bsd.h>
#include <lte_lc.h>
#include <at_cmd.h>
#include <at_notif.h>
#include <net/bsdlib.h>
#include <net/fota_download.h>
#include <dfu/mcuboot.h>

#define LED_PORT	DT_ALIAS_LED0_GPIOS_CONTROLLER

static struct		device *gpiob;
static struct		gpio_callback gpio_cb;
static struct k_work	fota_work;


/**@brief Recoverable BSD library error. */
void bsd_recoverable_error_handler(uint32_t err)
{
	printk("bsdlib recoverable error: %u\n", err);
}

/**@brief Start transfer of the file. */
static void app_dfu_transfer_start(struct k_work *unused)
{
	int retval;

	retval = fota_download_start(CONFIG_DOWNLOAD_HOST,
				     CONFIG_DOWNLOAD_FILE);
	if (retval != 0) {
		/* Re-enable button callback */
		gpio_pin_enable_callback(gpiob, DT_ALIAS_SW0_GPIOS_PIN);

		printk("fota_download_start() failed, err %d\n",
			retval);
	}
}

/**@brief Turn on LED0 and LED1 if CONFIG_APPLICATION_VERSION
 * is 2 and LED0 otherwise.
 */
static int led_app_version(void)
{
	struct device *dev;

	dev = device_get_binding(LED_PORT);
	if (dev == 0) {
		printk("Nordic nRF GPIO driver was not found!\n");
		return 1;
	}

	gpio_pin_configure(dev, DT_ALIAS_LED0_GPIOS_PIN, GPIO_DIR_OUT);
	gpio_pin_write(dev, DT_ALIAS_LED0_GPIOS_PIN, 1);

#if CONFIG_APPLICATION_VERSION == 2
	gpio_pin_configure(dev, DT_ALIAS_LED1_GPIOS_PIN, GPIO_DIR_OUT);
	gpio_pin_write(dev, DT_ALIAS_LED1_GPIOS_PIN, 1);
#endif
	return 0;
}

void dfu_button_pressed(struct device *gpiob, struct gpio_callback *cb,
			u32_t pins)
{
	k_work_submit(&fota_work);
	gpio_pin_disable_callback(gpiob, DT_ALIAS_SW0_GPIOS_PIN);
}

static int dfu_button_init(void)
{
	int err;

	gpiob = device_get_binding(DT_ALIAS_SW0_GPIOS_CONTROLLER);
	if (gpiob == 0) {
		printk("Nordic nRF GPIO driver was not found!\n");
		return 1;
	}
	err = gpio_pin_configure(gpiob, DT_ALIAS_SW0_GPIOS_PIN,
				 GPIO_DIR_IN | GPIO_INT | GPIO_PUD_PULL_UP |
					 GPIO_INT_EDGE | GPIO_INT_ACTIVE_LOW);
	if (err == 0) {
		gpio_init_callback(&gpio_cb, dfu_button_pressed,
			BIT(DT_ALIAS_SW0_GPIOS_PIN));
		err = gpio_add_callback(gpiob, &gpio_cb);
	}
	if (err == 0) {
		err = gpio_pin_enable_callback(gpiob, DT_ALIAS_SW0_GPIOS_PIN);
	}
	if (err != 0) {
		printk("Unable to configure SW0 GPIO pin!\n");
		return 1;
	}
	return 0;
}


void fota_dl_handler(enum fota_download_evt_id evt_id)
{
	switch (evt_id) {
	case FOTA_DOWNLOAD_EVT_ERROR:
		printk("Received error from fota_download\n");
		/* Fallthrough */
	case FOTA_DOWNLOAD_EVT_FINISHED:
		/* Re-enable button callback */
		gpio_pin_enable_callback(gpiob, DT_ALIAS_SW0_GPIOS_PIN);
		break;

	default:
		break;
	}
}

/**@brief Configures modem to provide LTE link.
 *
 * Blocks until link is successfully established.
 */
static void modem_configure(void)
{
#if defined(CONFIG_LTE_LINK_CONTROL)
	BUILD_ASSERT_MSG(!IS_ENABLED(CONFIG_LTE_AUTO_INIT_AND_CONNECT),
			"This sample does not support auto init and connect");
	int err;

	err = at_notif_init();
	__ASSERT(err == 0, "AT Notify could not be initialized.");
	err = at_cmd_init();
	__ASSERT(err == 0, "AT CMD could not be established.");
	printk("LTE Link Connecting ...\n");
	err = lte_lc_init_and_connect();
	__ASSERT(err == 0, "LTE link could not be established.");
	printk("LTE Link Connected!\n");
#endif
}

static int application_init(void)
{
	int err;

	k_work_init(&fota_work, app_dfu_transfer_start);

	err = dfu_button_init();
	if (err != 0) {
		return err;
	}

	err = led_app_version();
	if (err != 0) {
		return err;
	}

	err = fota_download_init(fota_dl_handler);
	if (err != 0) {
		return err;
	}

	return 0;
}

void main(void)
{
	int err;
  const char *ml_model = "ecbfc02b6913c2ba495ba29d710537dde136de89db12244620058f598af19b7883d3401f889b5f6ea57d68cdf26eb916732cd8b572227edf769f8f6e1359f2c0f17acfbb1be865069d796bfd9df49a1026faf8db6c475781301bf730b5b3d922ad7f233ad38f7db463526d1ef0fa6664acdcdc4cc2fcd1f8ec43b015b9c9d21b81c6c6b61c831d4a41ea6cc53328e62e3454ca4a805315446e7d305ddfb0b08e034c3d47249489c8468bbc4bb7303e7557f887c104569e77de1dd220265ad28a94236337a3850afc72ea758468b0e964ffe075c82b8608c20c5a3659f4fc92d7fda472c3a7cfcefcaf621ba53de6038e9f29b1a455db2ef9a2a816c738244c532c314383282f6e105597616d45f34269ba41e26853ea0c0170a8cabf054c4ec64e095022f6b47a5674e08e7f030f6d8bfe84a538f87be04d428119a9480210947f84530ef2566077de4b15f0031cfdc101ee12609606eef49584ff2b9b3a6244138b88b15174a008aeff20c6b5c6add11bb63c7f5b8f0fc243b0e87466233259b8da21118ed35d78560ff482e30344db22e635e3f14de1fc5d513dfb7df55d912435a070170eab8049d10b5e066d30b9b00b424f210f62df55f065294c923aa244b847c196e7159441a2d4a1fac13c673acc64bb65d8f464000f797fa6bc0b79f50a7e75656492f6cdf1de3458edf59d8c1c932464c75edb50aeca7ae58f95a2a64fa075a583fc807ab6ce486f954f31b61cbd584aafe3ec25d0990372aaf01ac0c1c666beb1f141dc47e917c8665dba107a1fa4c01afdaf6a9e480263775c4a2d54cd88f4158785eed534cc0e3acd241825c56314d0bd1bf477b9f59b4ede05678cd116dbd5d18a512dba21f14a10cfa5f43dfcd179727362dbc1eae230f74129cc268a2c9afd96a67751139602c50e973be71587c380605984dc0179d65ea9aabb57b35577cbd1172f07b5caf16b9aca32d2124880a41b6d63877728c95edb48046c009f9dea25d411151cffc8b736c6e581902577a91dd8b20ffcff01a30f81d1efc747d3988c3a9e6f656e894b1808caac9930f50c08cef7ce3534c7a6390f28fba0b8ce886f3de5ca4ccef95a821b584c10214d25ca7adad653b380fbeabd755c400957d5544fb45d19638660e432a2019c60e763b9c953cf9e0047544ad7d6128abe8449159a9e14e2ce10b0a3369fb01643d3aee7e0133c64e1be2265bddc85b914e0faea55333d2dcee0ecce70e28781ea0fd21d333b2de48b2c1c11d3fcd2adebd5dce795eeffe43dafec7b908410ce54e506b0817c6c4219611c20703e8cc07b11f3ea90f0a7020bc2039e794423517db5e07e51154a6c010e25273aeaa5203b179a8fd3163598ecdfe0d950b77ee4de7cad5fbe80327a7153ff5b15b9ebcb28d32809857ea0527fa946f269dad703c06d63445541a69925861fba9a93bdafed2aa5f26aa5c3789f3f521893cdbf4124fb17339d289525e78cdef7d987e9fa06f86e94424cabbc9bcb1df595f044ec44b55834ce7cd6b590b218a27c88e5a833b8bab555f963bea4aa282cae331db628ea5676cb609c8314af059d352909be2e6a9cc66e3d46edc97784d1c8aed461ab06f91a1b2cd4fe90411dbd4d0276794077bccf556526a188066534c5b5b9e5ed3ec5b6ef25fbf542076f9171adc929fb34fc513288cac30fede333a2dfb38d94d8a8a26aba1162dbaba2968233c7c5eda1d2dbc1409e914e5020201702035d7245b46d1248047f2856dee07c1c93bd0b382b9dd0f1e80f43a499a2d8f56bd1c746337e8a639c319f5f040936a95ba53837e69c7ab329f031ee864c26824f1682256ca49c8d1653cdc9408e0d6f4a645189df920d0016741a58aedc13d6bd82bd21df539fbd03fcfcbd03fc48f0408631e7bdb482b5a817beaf3d09b1918051c6195b47dd9b0a4346fa047c2518f02de50866af018d325a00fc6e6ecc8e13f2f990b29935d3afe2ceef144fe0a5866c56ef5f31cb412899a7068decad62d88a5cf70891d6d90bd95a6ec6f4a066f68862be016814a006b63737b2c574b5b659b77d9a17d3ab8ffdfa8f7124c2a0408b36497f54dfed851d34d18f49baa70b59c452b4e3fa49881ce163b9a417a3e342d3995e9fe15cef850e22d4b770f2e6fa5a86428a640c2c98b7db08f7d7f20365d4e851718053fffe525210015d6d2d4eacd7a7f75c2caceabbbb194046f9f82e4102785c9a26924a1f76017c36f6de85de039c6b9745316010092c57e387e8d7a06365159738a5b149fed9bca71b6729705618f0274ffbea62ad59e25fd43053a0ba626f47ac3235907110f0929c0a146f51e7c8ea45b7df38948426358c5b4546b08739a20494698c8337ecd05a838ac07d4deb10e6a7b1d7143df948f0101f402a37bb31ac8824232f17168bc51c68838650d080097fa4e0e9adf0a03ab4335f076e708d0a383ced28249219d67f26df9cb96b064aac5b55ce2e56e44132c50e31d3df0582ff41d8014cb9523fb74d9ef24ac618593accd115ce50c62b147ebc65d39fe9b76b7d116b08680dfa02af89577b37a9d9487adf691bdad4f8fec3ae093ef9b98b8981a9a90bfe5d27acae7c1151f3e4fe80bd6262faafda0ab609f60e7ce1ae1651520497b003866fc500736a50c3acd420a9e1a9b87bc8f1a503d2f99192a951a6724e7cd8ec618206b101db882991264cc519119fcac3a0f6a4449fcff7a3f1e5a5895ced96e2af9cbe5fbeb0b120f028f92fe394dc358d99bb74b89443fb3011ae25b1b93e9a2382803fd283fe52286e824208356f2e90c0a91c852e906d339d826434bf90afc543b98e5fcb50825e7acd609af2330061388182887ec09bf0a1ca476da5ea6101dc3e69352bc9ee7f04f592a37ca71fc591eefb2d14ba9ab5a92a445096bdc108479181b19b944a7835e889dee319dc261bc8498661b60c106cfa83fbdf92ca0a67f6a67b36864adb89059b7d71aac34ef79c369443f58394e2386063d89a68997217ffc4c727c724aedeacd3eed4c94a4f72410a283033ffab24f7bad4fbc48fb639e6242d89ef54f0a8a158a27d39667875862bbc42fe71d737bd353d889d6733a90c3dd11475535aeb759bc53eaed97f9b97acb6a486a0375c0ef8bdd7769a49859d6f2769cab993f2c81fad80fa4552136d8836c4136bdd572d2df30d0105f31729ae649ec15350907481786fb06a414d5b764203f25283b1f64b29bb5246ac9c497924cc5df40e62163714543bd44741b1a05d8209ad541c204964f9309e8e37c497cf5ec87a63267820dfe566d00d64c496d69b624afeee4ffbf3d198144987a7fc3ad5161a066046d56007acb1d8aa1efa1546c96b4af7686d506db75e33e040048330405d8660ff4949a557193bef2473db5a2837b4a72b5e47209ff13560de6e027a44cdc17c6e04faa743e18a79b4eb8fdfb5d32f22be435e2368978543dcf7b1a0ecf0547c805330138f58f927548a4dd820eec0456daa928ca4c3f02e9bc05cc00137b5d13b8150ebff4cd804ddd646053abcc6587ecf6fe472c27b23cb551831670247856c8abbf66aa8ac696be51fe0c1fe0e4c2da24fddb6e5e541c6490e0732c46ff8e9f35121d70e758ccf9a800ad38d5ba585e4c86c9494aab61f097b4dc44e4081017db235da55e9078b47dd881e801664a9bac7fce1799848fa48b88f390e9dddeba0ed8b026864f598381e3c4e2aa0a9de579fb7c3592a46d6a4b6246c344a6d5481cb2a0e80f073fdf101873249583d2778354242b18a461a6e2213895f7210a1127ed2b7916a2a06014d81728e783fa90af8aa434f6e0314165e8d47812fe1d3ff0c2100ae4b72a304a06520384010d9b61144b9c32956019629d6f535dd256cf56e033240f02be0d30a9370db0810a79b7c82418917e7e8bfe0c1f566cfac3e4dde1c3870a70dd42da881ab25c68178dccd11b6f697c6abec0f482c4226882858bd5380ca564942cf9eb2b6d62c08dac89ebf54cdab75603077a102f4fb44ae472bd26c6f2b82ef7faed8e5829a39106ccc1858f23dcedc6c3dcc45422718d6acae4d29847e6aa425cdd84d830f9177469b75d1a1d9ddb463891231606742782a2774190256b7552648b973686d069ec309704796e8b9c2ff054927b0b5577286d135fc8689df0d04574ed2322740e69da1822a8b0dc427827c62fdf8dcad88238ed0ab3cab110e2567b21aeee63d59b4ed8288511caf4a6776d58229606134e54150189f009c399f34374130abced84f3db39ec19681642c5977e9955dd39d4d34d17b5dbea8387f768560e3e266a185c39c229355110c24c69abc1fca26ff3c58cdf2bd48f3171e31de7a2ad9695a6bd1cf42ef8be32c89b1abbd503797d5eef64fa8c684589ca0442b9452e07ada2a629573544cdf988f4173957092c4b1e96b2322c6554dbe49102f52145aa597773e569b624a35947c946dd6992c99c03b55ceaff835005c36ca2091543ac8c41cde2ba0e9f518fd49ac18437d774613805d780517e3ad4d0b415a78dc71b8e98c5c45f535b5f793e7012c02367dceadc1d33bc93f8aae1e3a4864eb9cd1a3e51c6edafac97b3447ef0b04cae2c0950ceb9af538e1d78a286789cf8731a365f17ef38e580ef4f46d4d15598a0b94f8e87d180f4034fc5aae9b6727ea3d9f6f7942628c85e15312f5c3020855205c06c9708d1a1b073b25ba6854c38c94f2ffe14b54a9fe0a4282fcdeb997d0ad26e2ce6ffa7b92713d63c25464e8668a3864b72109bcfd743f2a3f79ed13514d38783c0c95900b97491d37577c9b7924e49058c2354c176598dd3a4b450b05ade7a00bf3c4cf2843d1f11efe8b478fbea17566129e1d05d2dbb0c7598b7c193fdc74c16ed5ba57b8e6d15133dd2cc8c00b41e773f7332969cb0c7a6d7c8082dfd81debfef9dbadb026105ac5520c26184f82ba6c132738d70e1534a520ebdc70832a0d25bf0c360a9214d0b1f892eafa4a039ca4c44926130bb18e54235249f5a6a94241ad32e00ecb251ff405951f8b0dcf744df63254ae60b8903eb15b83a4842484d3201d8a3dfbf9495862147b5e776c16a65f76158c3d3e2929d67010dc776a10097bee5d56cf9554b855441112eded6c60d38f84af9459a66db1f611afe5f903f102e1b17e854f71dc3f50278f41c38ff5cdb065833d2baeab689042abcf9c92080c5abc7292d5be4407b8b67f9d2a66838269e7a34b64ff399ebd3008f5730e5a7afb648aebbdf25af7bb57ace822e6d74972bdc8bc6089dec27f17b013d7111b7b183be1843c1d90937f884ee7b5800ff16d6be79f6af1edfa82ccab9c2bb8c19b3a584c6becb9e5c9ea08bba6970c5c8f9aeb4dab13bf3673fb9d0b0eb6b082515818a917525975507783b25af43a3f89287924570706a627e46bf2e5c3ece19a72d06f70ac60792d2430a1ed2504678a5b081f223fa2e8c701744e5e15405d5dfff3d57492a701e6327743f5f0961ed33804347532aee3d6d38e6a11030a80ad3122009ebc924b93d71cf5c7934c763c5d52ca9419e3182be57a110cbb919ca1187871be9dabee533529e4b89c004d25b54833c39ffa5540615cbcc10b49ee74872d2cfcefc4be02fa7dd5a3d699c9133a8050705b7b42fd1c101801fb46fd2306aa395f58e8b79770d5fc385bd495b3ab44a27f25f93b81634c70c58a530e02a52f6c4e95d8253d4eadddee6776120e2988c3e1aa27f93eb1ca93a0964d81921d99564f4ae32a560f5a08b065af58c03cb144245e39415dd249df4aebd7420ee939fba3dc90e7cf7eabd6014b2c10783f5fff216bc6a7811b6bf8079b714b7021e14f073231613610f38b8213a231a2ee6029edabcc4570dd8c0d5666ca8837ad39d8ec840d163408910f59e8c3bf4acdb1fab3275a62f97eabf2d3f061eb8429ad27106b47018ab792dd3250ab01f6fff7ceb679e25fe880176e6469a850f06b29c78db9c529bf130303e34c0bacba0d6f8f504b9c8f83b9112fa8d2f888a95cacb56d7a83d8e16a3733b17cb35ef848ec8fb87b224ece99270a861780131636712fa1151b39f4296f0efcee9e40963f92d209662b1e0a40f8ec630efe01c3191a69506659c9ccc9c395e34330bcb1d7125a126ea5dffd0dc12316ca4bd78b421a15bfc61a97f7a4a865a0835c022d043b12b67be95a07496751b15f1e56946b4082d914a2b384e550336cb51b421ce2f914eb2c63b4925e655ac80bca4bcf0ab6c1d012f1250e812bca887cc7bf9f53aac293f096e9fd520547d55856192550ac2e4806a5bed0bc32d58da7e9ced9dff438769f965546e16fe94c00bfce7004626751cfb8b685da685edd10df08a489603f8a7bd01f1a223be2cdad29dd280091d93009c42255e539106d5e3d0bda6a337bab42d78fb6c864e026242aa098c5c3fb4070e81edcb64b450260a076adc2ebd54c552590e98f2bd81c523287d514f8a7a92840c818d0c3d1b9919abd6d52a25c0e3c645f052e1174857ca8d06c785e2f2b18746557a408b196e29b72f66b2b106b16701e719a7f74dea446d1d83923a295510aa07193c6962854e22f0959939f7ca1b92b96c2d12a6922a9d441049329f4606142bebd520d953dc5ee7c406dff933822546f188042d69fb8248c2d6d95d7b3a6ca4a3ee8b2ab812ae03a528b981168b5c71da04af8e66f6b2c7c00b87dc6e313b3d87a8491e04d158dd44b67fb749725d52a8de79a6e2b291b65f322db08db3e1f3879ca9462d9e1c79c37e48afcda63bf4c3bbec870d9420d1d78a57a1c317ec4e795e12e3ce095a54752197418c2f9985536b5266c44a2fb2124e5ac37571650a66d3f708abbe6dfa6d4939a7fae3aba8505ba4a481733305ac997eb4b816d17a8e11fc6009f80b660335c26cfb0ef4ae33298257b66c69db6d6adf9a8e1f54b8fc78f2cea334475a30af0d33d8e79080341e5f3fabb824445220f9a6ea3ee2d5faceeb1f63247a5741f5ec1b1eb704d3d501529d1b7f8903fa28465daaad2fdb2b594304e053f13f7414d49d17b4a1fc76291061492f6c53973575faa1fc3ffd4993baf35df3081820f217d8a12015078bc391a8901a87e385a27b084f90fa340171ef915e14d16880b1b16ae6607042eafce2bdf42454cc97eb102c5e45505d98f6d7af6c9aa41bf24a8ecf025fd60d3c27ac293eb7a1cb99e515f94b764b130ff1982fc31d4a2f120cf54d04786d0e8086f7b3dc0347c9c827b9f44c8948513fd70c4ec4fd9abea9c8bbe40b200e9c173fdf5047ebcb6f2ac91a7b64d845685aee5e776d4b221ac3d7e86ae3fb4b9f20909a29abfbb15e913d70473f65d8191038202720031cf09f0937aca134158b2c3b56ae61057949d311a3d1ab19763883924f125ec6840f51436cf119575cee7d8c71a3b45b04f29cd2adc9e6381824c75fb9d0cd782953a08989c3b559e25ba815cc4887d442a70adb085d5e8c60d69f835f656ef5cc27a4f0edb6008f3e20b5f0483387e51cd3155afe015d558b1d3bdb028601f4c7ad58bde70b64ec20c1ba3eb50af5b4b9d41c6f3bb8990cba7bd2a032239047f34c19771c64f4e3ca8eab7de31b1356d337e280605a31988e54cc0f2b003167840bb6f7ab3a685aefd7d900eb93f05e310e39513eff36e25e31c18e0cc0dab506733fa38ecf757c568996858d30f17021ed52dd40ce30130f085c463151da4d70ec605e6afc8d903caaa3a22ca1b33855417e70691d2d71ca9298a2a2fae41e07ebbb18769dd516b6a51ef8a8f49ec65f5ca17759f56248814e0b5be8cbff608670bae0e74fe4145b7f5a326aa7d6a192bf799901184be75dbc1434cf8fc3d9672404d127d44362edf1343cc434c3b47f6c59c5e6555d3774f466eee75f8268cea5a4466ac9cafb76c93d93deb0e6a9dc801a92cba5e3afbc73475de00327c5d69814ffbb4d1d57c8fe593f41d60ed5cec48785c854b99660354ca4aee90f68d70d87018a8f32b006c5f24164cd3d6179680b84e9ff637750f14231d6b4dc884d359468e7f47b5896a9d3d9a47315b6d48827be42ad5b1e1e60fb3a8ca4bb39f2c88c9f199d7efa72ef6b2cd8b94d35223c83a40284d2ef4e944a13fc3e46f8e3a8171b91263b512cab67d947911f266c4020da84acaeeae6d1a87332aa301edc40c64ea4ad89ad3c4364d7d69b6ead0711cb16f9d1325ae91791248ec8b4fe613494a0577d1ffc0d89dd1a213215cd8c4ce8ce63ebccee02fd3dac39dadcfb025f3121dbba12597a1ab2af70377a31601a61dda96849d01efd3fb4f7434763356470760467d75310ade3f00862119c452d798b579603376525c9842ad78bb2c33f1b4cf2a356f3c9373f1575954b8714eea9a35c3fefb2cb46bd552f1c15bce54e55c4ebe5dba717b582a35ad9af38bd539094a8f3eb2cff905a45b1881a4b7d68d2ddd332bc26c27a9d90767f6b3364eddeb8a49c68c3ee9b721551fddb1e07dd65add12dc337aa558b4108ab52d2bf3db9053b13de4b612c39e540704327a4b3a3fb296919e810a683fdf49964d2556bf01a2e7fcf41d0d6780571e4ff949ff7e84e5f8f2c4c505a346dd84e58a2a80528796d5d560c62151a5e8e9b9cc62940af47d7bdcaf90c79f58de8eab5ed87902d87d3c7f38f69298e5a7810d98345b9e9d08d54961432f3315c22262a0fb1f15ffe530f5946bfa60fe0fd5a6b04002044ca273564fa8bb4d6a10a239391fd1003116b6aba2e9bae7910f1fb835122c4de54cac68d176853fd994a287a985e77c4ac10610fadbb035f9588c51ebc98e2ce1635f13f696807d0b9a5cb3cd51e53570ea2b4f61551ab68120cfbc8c20ab97bf4ce11fa1d39d9da443ce833ba2191af83773f7155dc59f6aae549959e1393997ff5db202c52697fc9feaf0c615c8d7a7c84ded25f3f41d6f9f35a7b0e4f9f7c595c7ecb3cf245bfbe740163859864705352c1f84b48c3a98a6f30dcf4972b33fdb16db8ba922dc645280783a5d7612357015b2dbd9a41d5d4ebe037eb4423a28381388117a059947c5514141f82c38ce99956d82fab415f45b940c26fef819f569786fdbac73b6c4d20c4db82bb61dd52c1d26a3e6acc0474e5c7f3cb88e9f851903f540e2f36bd00d4a4270eafc26ba8156379a057e933d4dd82912f8b2d96c39339196e0fd0ea057ee20933472f2e5b3257ff59a5a2b218b2976428fb275d19cf421dba021552930eebbe99ceffafcd18e9fece4955ef56b565f1d151d64806219c498bf8cab180f29ded9ddaf91d55629e96f632e42b93e2cb7e0ae23caf68a20487fa50a642f1df7dfd8e01356be2d4d131a771f0a7b78f6e243fee97508d14a57c9b7d506bd8f4cfe24883051e8ba535d19bb608bf14b68a72ad365dd7805d4207ee8b76d71b3ea0d0075c55d786899c3306bdf4352c53d9e28cd383acb6ed8ae98da44693cdeb78800ac2b57ca8bd5be09a6c6183f142a04a06b70859ae3864dda5f5b0bf86f6bd590a8e55f50f249c09f59cf87e1fb116eaddf3f97e5467a3ccc0437431583cb43b2afc8b9cebbde3a37d4b03710c16aef8fa39273f2abd7b2dc0f1a91bd30199b2684b67fbf409da405841d0a9df095dc969496eca0363f56a563cfab8bb3fcfd1530d13002ba207a3ff9b5c9d2458d62dcb3e28c92a871a62fa9559ada092e94207cf723be289bb1626090263127c542339760c085c9961f872d61294c174183a358ec2aeb2967927e6742cca59aa387ed4a84dbd65d35f146ccf2019e80ea59189d6c360e35d7a15309fadd978a65c79f0d11d0610a4bc9add55d39fbc65243f0ff36e30d987970860a333702342340aee108d9abecbdba95fcec890ef2fc670886ee2877cbdb08d62ed4b545c26c1179e26e416736bb94adb48fcd4c898c37084c7a5a1418bfc1b2336705dbd0248a3d39e3bed25fd58089ba84907cea30f483740a966bfcd2851462f5428ed53691f59b5aa52f0e753b75fac14e4edf2c34ead51b94fc917654147a87eb145b43f03678a2cdecd487aaef9c7bc383cca446901f6d866962c9fd90a2667db106ede761aa9f22dcf5e0ba435ebd9a47919af10ba5f5a3da9b788fad23610e21de8d82062d4ef2c8441235693735ec18d5c6ee9ea7e9b7e08c693ed2dc98fdd92336625d12dcb01c080905854f175f923e39ca3e3b5758c98ae594c0b0d20f070d2836670b0d779bdc66f4a3b0e7ca25835f159ce3b77a2155b5dc1e148872eb19264808fcc43e156c37ebb7113f1d629f7a212de10efe6e50429a67b67c0d1cec89a4552fe707746cbc45df8aac56b8310cf2c6384cb152ce1f65d30ba799a03be8afe828afbf39e72e6f8237290794398344574c8d8796a275f5b5f37a659e993d408ec172b1eaf5ee084802f75bb1d6940bf72e399a6cd62bd5112fff82fc646ea53641687f557adba8eb714fcd130a97ee2a290a01570466f03cf7120307524a27e7eb26124be0aa92e113bf67fa3f3bafccde71eda448c12b615344a31ed486460ed94dc6beaebc1c4265738b40c3a55d2151701d4fed5dc458c4de14630aac0c2e651ae0cc8ccd87fdc25d6aaf10d74a0fb8db7b23649bb393d91101d855154a0ce63361a748d0bb03118c004e712ade4a1375ddbe58bd850c0920636be65d011eccb1d03e69b520f7276d992b1565cd4471aa0d6e068c333d8a6bbc99e9915d63de127bfb153b0b00b95600c51f0fe9fd63a90b6e2b55adc45482868d1e0c21f47ac92d8410e475734df85b7104218f725615174fe5d383194e37047ab2d78a02c80b87651d02a070ebf7ba46062823a44a90e4ea3bcdb9db20c6ecf22acc32934086bb154bde59f6c4328ee668524590c18d8ddce03b9ac422229b607fe14673d1db9437180ada1244b5a89a257b410436086d01083ca71084e30dddcf83e97f29c48adc0c93925a5ecdace0e64516f40bde94b24090936167527e9ea6edd9eef114d500c71f3d35268a15d098c9ce948c7aec13af5eb1a6b12e7ee8a2d41790857381518ad1907e0128309468c01f93abcb173719bfb3428dd2abc4b83b7a14067219ce6c3e2a721fa71fa77349c938d7560bd430461c66a0c320e859a050a890ab48c4c1b979037ea224bca288f8eaf0ca17fab34545a823bb3ef81c1780d6e2103917a2f3a9276f9c3473f94ac5393eae60114f3c2b08a670b75b1a621ba56714de555ac361790b6cbc6c7542d6fcf900def2dfa4e0f148b7ab5c33655bfcbc1c6aaad6d14b149c8768108d7488c55be97ac822b43e1d16e395649d95dad4c2589e572803de1a9312b0e272487645b63c9114e5c1e1afa4ae654549e2a561be2a41fdc8de6bf7f25b4550e83e5656d32ff0675271ea9ea348b43c5df8ee9270f2a1d02b8333aefc6bb597366a72918e7add6922a8e524433509d1cfb6981d8ab754b328ab41bb807e683e383d996bc8c36c03617fdae091a5f874180d208fc863102556c067979a8e6ec0b1fcf049da64d5e5257017d8b697688cd4eb2fc02bac3bfbd038cd332567e22a61a33ad2b11d3a23b5b66ca6c5aae7f8c10dad545a472862f5a490111d249fdf68cccccdac436ec35ac35904505ced33e4fdf9b375f6850c5e3a81cde4daa4f0b1698d06587076e5c9bf15b15b8322d982dda2a6718bdf5fd0fa9ec92b02d387569a199644edab6496c896177b034f7e4c8d49aa8608bde2dcbf6c15de7398cd59a9abce87b1ed44d8d358295c712da95ef476d31247783d7a29ed553e51120e9649c3e76b0b49e774a4022df683d1e8ef67d2ebb5f69f0f490ecdaa3ed72cfb676b960337ef4edfb4e36cd4771110493f909eb572d543000d73fa2f261ee984f9e4eed9dc287f0b2a6b2eda1a40530e6e584be2afdabefde2934f6aa8df10393e4992f70eb6e5aa34126a237ffc99763ae8467a30d1368da3f233da88853457aebfcc3b9e940a9a878bce9eaf397bd5d2d7725dc49d465fe15611b7ccbd5eb106251f7e8f2eb921e7a31edc9ffe5551ef8f54eaa14b5bfcfd2af690f21c73bcb0ad150dcafc2801f9d27e8696f94ca41921cc9d32c368629e72c79e649f0a9c0071c56138aab8245b5763c4f19942bb19c0b4b7a5e82b83f9ddd76e2038678a4e4b4133160ccb36ce6111546eeaf09e1bb94a6dbfecbc003ff61e881f18a2a44286855277cae90cc4b89b65c9b4bb6840d612ead072ef1c735bab7484d1b455deb6c2a3575ce48da956241d8161ab57420b58a61a6758adbe73da76b8d86b0d7829e7015eeb62d7a70196fdce6a81f1c019cafff63acfa1c2f38adad3bee0b129d348b22f5c4afb8ef911f2bb893f0754027668fe85327de612c17dab8b957e425a88e4296a631999a756164a818aaf281b20d87a44a78da1b4a85090ca666b0d5df9d8a93b2acc8fb8072bd24a354b440e534fd2014fa217b4db51b53ffdf0009cc3928b9b71a8bb2ee4aeac55862628c92e173c041e76cff4ebfb5f34e54ef703fce614c0452cf981964c35aec6de278305066f62bd043fd30701117a289212df0c4fdaefaa46b5e65d9adc5fd7fd041a7d07f3f7965fe59c329e4f3a0ae313c65a47f254a1182261d3729ce33580d62df80e1c0a3ad84a6cc3b2ed7090395f09e0447743d59aa582ae48e077824ca00c899e6c3504f97565c26f938440a7a9b660b866a7717d8634e02bc92ac0855b568bff7a06167471153081c7bc915271d174cc975aad589c868c419e4a1588a6877cc90e6173b89c84410e0940a62bb1016c3562c4d80be7ffb69cfd958c58169cdcc165775f7e0a5bb1cb22181055e24fe31f259c37139c8ba20f34071d14b0c41ca9e6c99609a474e7a191e746980359e780933904f8d762a58f5f71bedecb33d53032beaebf3c3cb6ddeb396229d2c8fbbab141abc70a15d05671083a27e8d7b76f8c1722c75b265fdf3aab073d8f17a8675e08f06a31de202ccd4029166cdfe0d551939b9e2c41e6c3d40f27bc82e6628c2fc9581798b278dd38ddda7bf780c60aae8d997abbacee55d6c808f1f24d09e31660e554ae63061094201fd56a1fd1f7947297935941fdb4366853f080c2f89da75c4137712f97fde2cc068c27ee9d327ab3315148d8fe91d8e4ba8ab05390c39453ef36ef75b9732e8b1430296366795bae30a52e9d126df13871d0ee90a044c12e39acb7faf8df3bb270819306bc2fcf34465354fd16b7aa83a8f2b80a54364e52dfbe89e6b76da89089df8c82ff6eed985bfdc29c8ac9431a7e73fd5b8c2f63b4e72328088d5682b084ca923ed652b99336abc5bcfbaedbd81df5acf230b065a70f56cace5f0c8b1b8911fe4b5887c8f6cb29552a02acdacdad23f76594882fd13e7b63787203e02c506a32b60d07718a71ac5e1faa3d16e5aae97bd6977fd900ef52543bc6dae59f0aae403f17024ef31640755103f506319fe43abc2993a4df57da937aae8ae7f1f247c405c71ce89159e39fcd2105bf5c19815a00b86b9919689655d31ba191dd868cc8ea0a23bfe89482f453c2b15cb96f1d7d643f2eec7c27d0acf4fc2350e2ad64f096486700c7698fac51e34d7403099801efec779f142063121074fa4b7ae78a9d0dfa6eb9391855e8c4d90dbf984082bcbedb140c2abb3300f672d599e751be051be1c2f30e25a4d2d9ab76d71fa4d72f5bf403c0e6046a040c9899db58aef1a6356a5d75bfe53d70187ed081c2a1c502dd3dbbfd602a7fe60d7df81ffc24636837639c9c0ea60e603d2a872452c8f19d50758bb6d6fbb4ae81b3617d7adc573125a09d8db69043d8632442574b9cef9e4490b4449620cfb397f6a84bcd6d926c74d980bd149435469fc4c10d7507d6ce7acadac08837f6dfb510cddf786991f9d8a759e61ff4640d0f306e286e693ca2361c29b6716ddbcae0afec30a5a816edea07545832628638ec396fc1459d7fa6bb0d74a2cb6dc783d8f4aa2cdb381b4b2d80776d824461a877c0e9e1606d6e64972ee9a81c481f39e1e637dd897298a4c1353aee66d4fe388ef3afa5b9fd572d1223f80ab7e5a11129745bc4ef99f9d3673cd416320499126dfad01db09a3ce2b264a5a9642fb1c0287dae963ad4869b57f02d45eb696a91a42f011405d6cecdd8e91cb09d512f4955b9632de5d5ee881d75bb5aefcbe873abd25d5a9f02c07785874cf8fc978b74f817932882cf065b842033971f920a4961a412e61419acd4300c2afa505d83783a67cd6486d73c93a2209f7e518d5c4ddfdc2a68508b117645638b3418d8bbb1b531dd02e05996340a39b922f0b65d9a03c5805aa58141090b2d9587fc38d8212ecaab19f82a2030decd175af3c688594b1b51dfecb399f9a0fd93dc78f4674ad2f0c4968ec37811f63fdd1afde6c6f177a1df9ee1bd7ebac289eaa82ddb3cdd26fe790597bc29dde682e78d883bc7d8c07e1a012e938922e2fbc9d901f8807c2eb8ea467df277e88ed664a35a7998a0b3e3d1005f2287919ed0d22772571a93d522e6275517a9c5cad7c5b48b1290821242856dbc9d296d2a1a132b908ec0dcc2583030dbd8c831b95bfc6bca0e64731e7333d00a0aa9614e3f2b618eac03b4e8c0eab16795bc6d239b7647587a52ca3ff0b5c8430ca8c2322d193b4f99587a57012f9aed2d201d2e9fdab9e969348fe1ece9853aa4d66fd707a4e5ca24788588e379454dc891a045152a606be30048248c0cde86dc191cadd67bb64f46443e7991025f707ec1bc2cb1ac69fad6d07399d2f38fb7e3244e43532fc6e52f30e431e1de4b8a2af7265259ce2a28ea6be2f11584d316f82105c68b479719a1eb64d078d4f5753bdc44c7ecc564a4b4498e96cda8d576d90aab88e4910feaf84aa50358fc56d3c97322aa6f7a673ff8946625bb93ae67aeff1d94173e5be342a7ffd10a1c4c5ab084994cf35e96c861fe6014b0fe274c5ee3cd9afd31bf60e36460e158b651392235f60644aeca82bc8a4fbf79b26d203987f044951c03b7156d777aa3163b99e9af54c99f26c17bf0729901f2e0c1f6a6d8769693d6a30ea0bad3a62850edba89a78521bc798441e934d7e43068e0fa90bf3c86b84b255aebcb320c506f2d438e925ae5129e26624ef3adf4d99d431f222bae3c8b4733b7a33c3d1a2eafe0a6362f2c47a3a44039b0422d074e4a1b19f434b0dbeddc5c70522633806dc48f8de04fba0102a43dc29120af46db5b1f4b84493cd0ada0777072396b28ea9431e638af7265f2c33cc4b511bc55ac2122ae53c90267a566a4d628d085e9a25581851ace58ca5da4e97bf076f80072d4e908fc2551a8566ee91e65fa2e7e059720e9d38f6fd5c10139ea1d0585c6f34206f744672051b9214f819b16348dd6dac2b55642e32747664ac2df308e720220fd8ec2de95fb682f4037d83f50e14e41b07d8fa8eb0e0e608a7e8e198af38be4ac8ac3a07a7904d9e786142402a1edb24d26c30864ebfc63415a388e093f43913dd19edc0a4e3a5de6daa602016c4c7444ac786fa1db9fe271a226b84f817a6358621d12b1fd654d6765d7ee9b6148569921f1fce2f72bea5dc85f120d53542680e79861e759fb956854778734bab011e78933c7d36eda8601a7a262de38251254eda87e7b160ea72eebc30e5079701ddb6e72c28a535e9d8155cf0f6c7962f5097db52f267426f1859db7379f7b38b4b26db95f6c0fa2b1775f5dbb34095d4b6c1df6b6b3ad34fda21bd7a87cb25a2b9da40f4710ba4f970984446a58c27f16f3e293d5e3372fea70d7cd2d4aef407f42413c3fa105aad98f605d4f799c0987b21ef341ad8cbc9f9c385cb460a08465d14d33500511dbf5c4b11a72c754f019f83355e48b33010a32f58379e8b03aa873accf8425b2c0956ca3edf6cb2d7fd98c7e6b8aef8b36e229274e1e0172a2dc667a3774e2ffa20c9335934f115bf278eac702a77b30e0494b1d43a8521c4b5ab25d1775c86ad430aaf40b19d144ab3e2137e7200d616df369640d45795827c400aced2b3dc8508631501aa2cc68f799d74c00e0a6acf28f82e54917dee816e7b4a1db379d5da2a12a2cac5e0709c62800cadf60a88f821cc9ed6f95f4ecfb8d2e16b391aca2006c2fa0ad6921ee7c04b6a60278415219f52f78faf9421e6535b2df41f3810b2ad3b3d56d2fcfd375565e9495a7bac5f8af085913de589cdb7b94abf132bfad296c24acedecbe8e9d7b7180b4ca7b6899d5ca8cb3923e0c8290b803ebdc51177681a2c0c452ab2ee137a0a48cbe966b6513f46e3d2ba3bc5b2d22bb68dba6fb3c5568e3e78c2a08cf57ebe03ece161a056a2327f77a668c785f9021d045fbfbf52be2e713f59a3895504c7a3153de7b429d055d4b82f7a8c4b1147c390d4328db9cae239a2bc49be768b8434728b3d434da6bf76a31188b1228d42fcf87038dc28b0da88cd20a85304152f8c2dd80938528859ed0b2dd6b66a8d24f45ff8989b5f3fbce61f1a844868d2a57da28ce44313dd377ced7c1be693193d6ec21419159700255137ccd85d4093cbf86e3d6a769ec200839d1c89fc2122492317ed436d152f673b25c8cc7db9b226fc1847059de87a1545d8bf5270cdf2ab91576ba458fcfc64ded034809bc547a5b51fef9f62f2185721f6f404c4eb36e449d61ccdc96e6dfd13e87295758e1b928ff6ab45f912249b3cb4727cea719a760f9f1f55e0e989d14d93e6a293fbe400f1deed32da49dae8e85faaff636de3ac19ad35bd80dc290eaf45370572fef509a8aeaa55240b60d79c11adb13a70ecb33d8bcb6b110633b7049f8b629f87f4b147f8a5354e6d5a7b4ac246485ab3c4210264661f039d3e3bdd72a19579a6bbb49b75d3153c9f1812cc173adae7e154548af4cdb34350b59f27ab6270e3c4abf187ce18399bc8f6d532728af9936288ef12f190316dbfdd7ec69a69f9cdcd4516fd75df3c48ca1e7aa3076b54b1face672f8c8d2e7a35bd93ab5cbe76a33a9ae84967a94a500aba17202221147bbbc6a73b83deabf985bc8d5a2c08149dd9b52da990e57acfbff0fdcaf10a146cf3d67e71f52a9e9d4695bd21ae5c5556530b1556b3a1cf930f1e5810d6177352e87f1ca25b8f25ae62a08102bc1ad559089566f744b7c5589afe60094ff7fb5092060100edf69c2cdf4af343a03168621f047081c3366cd08668ebe8e60c66f94b17039aadcb3c51a06b26ba3a07c2cf95f7ad117cb35adc92405d077a0d1d484451fcf3ad1ecf1766e3abbb4c90a95161a5c986f21dc886ff04579ad25a84b0b65fd6f1104eb51d33db60efe49130734758fe903d2b4bdeec863ffac5bda824d8ee6a613b614d76c48f3927315f488aa5a2653e6b406bfdf0830545c3f008238a143720c68a48a62eb03eb1d752a1aeb4ebd0ee261c2505f3fdfe4c7ced987a7d437a2cc79b333a92742f0e3bb5ae8b025067e361254257d1342b1a2c854e16daf56ffe0a7fbe23af50eb4fd8a383a5e36845ba9429bcd5fda2784c47ae0378eb08056b2de83f7493e52eccfdfc307c911a60238c5daf018df913f98e7f72eb35f0d24f2112cee7c333dc6c0dde8e0e66eb19d89c6913096965378edc279f37362e62c293efb3089ee747d8331ba563338de6710bb530e8940d87ed092824beee0a8c7f4d80b19f44b5b67ac074dce8ae15497df35cbc69d3858d8b1806b60cbd853439593bc6bbdc108d6cdaafc2b6b75e74b742989cefe3d41b3bb0954731c697de2818dd50f91ea04a78fe27fd1f0dc199f7270342006d774f7c111b5ad2093bcb1c0f7ea9eb7c177e39b3d46a0ef5e971d6a3914f19357e8229a8d10bfac9ac0d68cb313ecfe6115ee6b875cff157e5f5e99bfd02ed1e41369cd63dd24722bc1366695b9dda8c71f3d8211944e55be87cba6f31f325f41ac3bc12ec258a96249daa957599fafc8445da11dd1774bb70d8177618d85c1bdbe46b519ecf207bdc5f0faabfd285c6d1ec39f0705692e5512ef168d716c6c0e623aab0737db59bce320a7152bc4d8e2f8ef18ae5a708f34208c0a7ab5c86540ed0abb32414234e30c139aee1d3f7fb8726f965769ead01e39dda0e28634bdbe1af9a3691e2d9fbcaf38ded373dbe4810b7231129d8238d50709d38ef50525a44d088e0a2524ccee94063db0ce1e5ef2313a2ca2bfc8f0b45b7bcdd2de7099fe433e9eacde658d2583aa1a82af8304f73ad00e2528046624f2052822618bf3261af6fe49a316b1f09e487afc2c9964fe7215d842aadc0b753c36bd6862e6c70a261f6ce5d848ab9c62b7be93cdc7b500ea0faf036778bf97c8db295b8d8c8210d3fa482d0a60a02c4121df3473a08b19c8a4bff2cf696b50883144d231e9a57267d28edbacad871fe1c17dad88bc1aade33723a836cb6f3a1aed35e935cc5905d3f2284455d6556989882b34f3ba7ae28c48517e5f02a1442ae6c472751a8bc566a5282034e0ed1cd659c817c569fee87cb60df6968c1a04f19172a0105f87ffec79d9f167ba4bf41049446250f9f0226300f02eea97f05d9ca82cdfe3583c90a904aabbb66134292cf41b634446f09a5843b5c1cc4ee494079caf95139683938fd032e8927e2a3f96ab123fd299be406865c8c57699a055104c1a17ef686b0180b70231e08873c8b59f4f73209097eb003730f1647f8a4a65d21f4d4724cd62a7f34e3c9c25b8f1c42a7f06852e71b69f5d5bf855f111f410235f279558e2691f28023b9b5e08c72d6a0bc119a55e6338dd42c3e2b966a1e79a3e9b1a90d755f6b6cb3eaece84288a74e190447cc5da36d48c40a8196cd55e896e4dbe10f5ed968c857703ee94164a38c64661b5f045af559737dba6aa76b73a40fdaff8b8957656658bb198abbbaf26d37ad85ea8204441fb2fdf955eb7e8b966c95ba200d279fbb99ff4e225b9e054e8f14b9309cbacb45edd70cf6b009d0de103eb5be59d274d500818adf3d138dc4781c9192cc0b233f497dbd27157745a181651968b5f26ba24805cacfccb587d5d93b229c3e1fdb5932e8f0b5febeb72b2a6bad994ad2d08c350a5812de2b3e68d0668388a70cd5892ff9250ddbc5bc97c83d1c2e655575422ea4b9dc8e5d7afc481d058a6c4fed8e547551c9e26683ce760ef445b370454e9266a870aa8ec31f224f865dac3b0fd3c63a87fcbc926a7194d2148f2f062f1d3690d8c8e9a76bcb524b305128084ccab1d4fe3daf07ec9acc90fd3c70251d30f4ace3508732e7b970feaa049d468f77c4a1d0f36774f85d1187839c56330064e6d7fb02f9703b384bc9bbb0a6a36e8267f892c35116cfd9ea3a557e4413fe80fc8d62cf6f97497792ce90c60e4d6ed9b730e638e2c7d5a71ad7e7ed2c8e8529ca42743ae1e9cb6a3c67843f6745c9016c609b0352e9b9338c5b3b59046976ef803abbf7133a95b061cfa1943c27aeacdbe83d23c2314309180730c71e39385aa90f1fcaa5a1f3e9a9e0fb19e37e0b9059985150b3db4a1aa9a601a0dd9a481d94f37d29154bcaf3507f0381ecb1c5c8fee7af00d9410c219fdcdf47a3b24502004ebde628dae38ad21267bce26240ce8caf730c6a7584917acb4dc27fe4fb7113b9acb68d8129dc087284688bf18b3ffd31323fe10392d03bd4e2690bd22a74fc46f30175d4a18ed8de3f2ba2688d01d4f4df3bb744126a25647a23ab14ccd2180f13fe1156159a805d16a8be01c66cc093df9de615e4077016c419962d6699afe221200d3687952aa6b87f3dc635a52ca6cfccb69bc3149e73c4d03df313cbb638ee99d5042c37d5c84897200eb7a9f94afd2306797b8e0a60cc9738280c5bc96998147097c1d57b0f794bb765cf8e4b332bae63ef9a590f0a8d0d8cd19ef9d5950370e01ff77db26068a002f055bbe923b283b28295943ee4a037fa5547e2623d567532f9119d75b6a065115751660f741093e37caf9aaa0d97041ed3bb20837143e38c562b42621a3ffcd0bc166cf81a4a0904f0feed5369d96308b489748f280e6789b0ec9a6ffcc9080c7f3d043b3ba57b356ea5263d77a946cab5361f346840f1846f14eced79e44b7fbd89c12c7b43ec9c50fc32ea8a11c420e0b81acba8e836bdbb2436feae97244c7c6e9bb00b884cc4d6c1a354d5c8ff551de4d44ccec669082f0aa000d08ea35c879bc8380d6fc3f1bcadda4061e5e4a952724016070f280eef3c16bba5a1ca7778b3c4c2ba56f4dc8c7d0b27d55cd89752c9c4fa27cf4e176673a6cb559c82d56417cecbdfb63aa3ac8ef78be7d0de8d5223859c9b286ad71eb3dfefb117512a06db561c29ea46f85cc8d8454abf2435c25b9c85c601a3dc801b8ea5e959bcf03df47ed9f93d9ad99d855f106b1f7d231a6b63fd0a82e480273fc72046eb581babf755f1366620e19063f5abac7ef3da2bf15143f1073036ee1605985e8415fca7bc81b25c262174b4d04fc1d273f8eae5cae131992daa0a0e82da378dc02321ebb9b1c1a87dc1a9a7fb3acb4bea778bcf704f31db3cd592d686be1822940f3138e7c6d4547204f9d8f8eac35e3881c5d6daa7ccde97562cf3a8955a8764eafb338c78f830057cc20f7a0ca6951d3ab0113e6084ff96d7b17b4a1271d1e8b34567ef73c884d4f1358bc8b724a4f50a83ac6344ffb34f8c5f340190e30b89c379cc6fc666dda7d79f59e93c57be9417fea4f2ceb6397d09e76891ab00ea69568cda20d6e6b7c838a0fa25a9cb786a6ee8da14e06fd24f380a0c6b5a05485c05da2ad451478a31682ba15a47e1f8434298e0b736b0b7179f36a80110e7fac0ffdecb0f4b5a11c9323c560ee52345df84cc8c927421f0448ef340ede979eab7cf8fb451a6f59ef92241c62c02fd3f64c041a340086d3e2598abc8822ade3f45f3bb29701d9b6d4dadf44fa5b378ce1648ad01e40e34584fc2eb8209eb5d61c8967668c10c86f39e52d3b7dbc0c111b4deac4a181b5dec496d1c38a24b626eaa5ba186478f4bbcab378c68b848e038387fe79a607cd3e5154809efa187eb726d7359cb67db7962f7b02ec2e038289f0a14dd1a659f5a12950246a2ae340b67254b6f166b92da42569700c09cd659a4b68ac59cce66cda9d725c10f74d8d0a4a59cf618626a1eaeac6b69eb6eff1238f2f27910c50050497b29651481fd2eae0330df1934db3e2eb3574cbe43b3dadf5a95f675aa982e44b94cda9142e172a9544b44fae4cb1f3c06a4171f5c68e6243510b91ad69b5edf2a334933da1fc016b336390e2f33a8d38a782fb863b5f610311ee3dfb5df2b0518164e2c59d493207a50c262c0f66d3d17a1696fe5bd76143573704622f40bca167e28d6c9029defdaf35867e341ef884ed33786ae7bb17fc9d35da111bc978d7268ce00beb664b740d63ff634104e522c6e6bdfa840f1a2db22e966717f897eb89289c16caf113cccab272b8443dd715a12144c27934d455a386bfbe6e3697307725c7aea911b64816dd0be4320c6d3351e21f27d0673354563e0d0539c0b6cae674a16e0390024be62adc3b5b3e1c2a44ba6e1cb8e24ea88137c818c687486685d95b0ffbb14592baa7bd56ba48455e33d5f035330834fd6cf7403b63fd9563a48c0a5b82f1f4f833715a143e3c6f14e5b5b6c6afb19c6069041f9271a52723a179e9048a9419ec5d4a41cb9e4d9b575c9154814a208fd8f9f3895d7f9f677d268d37742f21c73d5ec31a1fff4694efa7d55cba5100d6933eb5198642c63ea9d5cdb874aa84b7f4a7ffa6f6cdf294431f3df3eddbd86f20893e1a503192c6b52178f14986764bfe79f25488bc94c086ab3301a43546a6b899d1e5fb9134963037cd5a71f46f25f7279c443a8eb9c26574d6ce5ae21949220cd6e484313e98d388aadb73deb305c6fbe975619615562f5c7cf09cf4e297f832a1116a97dc5184939c944df941213f47bc57442f21fd73e0995fbc1fddc2cb6cbc1264f4566e8216ef47a7dd20e9581361f31e4b978f940812df8c713fd01e6c5cc7ee85c4197078bfa0f5d1c21ff9964eee104af4f522b9365651015752b888b124b5bd28fb70dafe3b575fce0939354a2e09b2f81ff0a09cd25a5962f73b1a1039e54df75171b9bb70e663861634b92f144b656fbf6aa8e978acce758e79b5708bd4fc1002357d1d5ecf54e7711e78172db25a08b2e41bfcfff92d7f4d34a2a6a5e6ce801f8dedffe3a35bedbf4bcfeb9cc316adaf0ffe7b0b0c3d526bcc9e54024c8e1ae7a036a84bf010a4b0a0d2dc889d9b202845042951f1cf2d62fd4529a350a29c3e1182950d5e9a39cf40f205bfe2bdd560e11b2a50f4adf87e15d18adffe0a3dec3397fe5750c42b4154d5b9073562e052091a1a28661e95264b2c12c4d2ba5c9b5238ba5d5443c05b1239ca81a83b0748865012d14d6df148307688377121e16908c690d9661bd0e49f593fd77839c4079a4b5c2a8a1adb7ed9bf4afcd73a00f72dd89b9ab52996b5826ea5f279a1799502d793c3683ff04970ab1af322a8ea11785088ee4ffc6ba8c9b01c120e7a5a956d9abf97a1a3db4d0de8f77c325e50c4d8e4859ff055716601a9edb0a812bdc2ad121b851507c20b93a82f3e88a7a0c1c12e3af3828dc1e93b8b407fced4100eb257cf8711c9e6cd709bc9cf79938bb488873dc9589bc6bef8eea8715fe58ac2f20882313a1e1ff207a1167a9ab0e58b400cb75cc9f4f4b87ba004907926ac3fc68efc03bc00403f4a4a2b6753442ffc0dc76a6dcc357bad8f4e944adc452adc0740f87db6b0fcaf884d5da71aab072ce319a421ca54e57eda4dae42b8ff4a1643b93d2844e89f5c862562e80a0fc95821c204a89390c0522d92bad78865034bbab40f42226b5dbe1a3717b352dce6fef1ece4a25123b9c2fe62fc37af422d07e523c855e497745543f25e92d91c069b8cbf50d7973bec9f30bd317241cad5eff68fa61349466028e4dc63db55647b5bc2754e4c7ab6e98d1eeba2d7ef5167b33093d0a173236b4b0e39bcdc734a7e8e51b0970392d99b4f2b6178bb3bab134fd96ce24dbddff0c4eea41236a03128c7368494c11ac10b1140636a2f1f3a07ab9d5f5f0e736e49b9143644a7a8aab4675b1359440a7e3cd8f33cebbf9805bbc63642b7bc0b5ef28ec781c8cc1f9148a71e1a49ec5daaeb7284b5438e39d888579de735c01b41ee907fdc29ea05307e8217b608e8c785c2647bf6899881dd6bc83a2ca498acb91dc4516b7986d8207c1de548be04e46ccca4673c79eff803bbe56c262a1a509698dae57f67c44cb9d45efe96548b94c6dac4f98ef68d3bc70c1634013239a8f6ff6e5280663432f836f07b5c2b85bb5ab5deff88195e9c3ec4b65b3cca561372e9d4a709bea29ebee1f5d382c23ad6ee21a49f794a6a1579ed5976dff0bfe785afc078cf99d6db7a25af2c62edca71f8084f5024f047ddafedeebbe564950573e4a153f375bc4f95e6c73085ca4383e74c4d0a55e53ffc2a74c67ea8b69603f416d007697034aa05ca80717baa3efff0aeccc5982e175aec99583d306d002115c5cf8c3f459148056f6663009aeea1614518605f736939397877f135e74ce3ff8cbb4e93988f59f1a4df37e46804b50cab3e6b0e783e52b3b5ad929aa19a791b9bfb0dd35c03cc77c047ccd9c5f2213af79b3a16d2db3d108dc98066c311123e38dfc66406eb2660bcde5a4bf8fd7302185be77dd3c12b857a27fc74f9c224a415c6e8ede248a67a274edbb14bf5040b49480cd7c506a9ab9f98cceefd2dcdbab3a38b2d8d770e4367dac09103f16da5e9f69d5aed9cfde97378469c44640d737d01129502f6d6538ab3a4855d869e688e5b05b3eefce55aa3d3bbe5947b6700937ea258f0bb9d2eddbb95db5be73e9b38960e425eaff3a37739037b5b754339f77aa7deed7f115164809c779d3a4e56f1abfc14f6ee2fabf26d13994d68dd6e3a588067aaa04562cfdab7b0162ffd7c64ab7fb8791310155428546a9a14bbf080cd765608f4120a62b3385b634f086a62d408e46a2339f6ba0a8522d185f6c02dca664b65192e0cb4cdddcd2dcfa5d9e293ae92f9f8dece36b983fba826c81186ec43e3bf6b544921cf3af8bef33d6ed05a4512ad95eed9fc31d6bb8652129fd453ef72ac657abc0a5985a6e4b18208ca14308188898f64a8f85ca2ddeb660f623a0909c108806966d8ea7fb9e67c684f60";
	printk("Initializing bsdlib\n");
	err = bsdlib_init();
	switch (err) {
	case MODEM_DFU_RESULT_OK:
		printk("Modem firmware update successful!\n");
		printk("Modem will run the new firmware after reboot\n");
		k_thread_suspend(k_current_get());
		break;
	case MODEM_DFU_RESULT_UUID_ERROR:
	case MODEM_DFU_RESULT_AUTH_ERROR:
		printk("Modem firmware update failed\n");
		printk("Modem will run non-updated firmware on reboot.\n");
		break;
	case MODEM_DFU_RESULT_HARDWARE_ERROR:
	case MODEM_DFU_RESULT_INTERNAL_ERROR:
		printk("Modem firmware update failed\n");
		printk("Fatal error.\n");
		break;
	case -1:
		printk("Could not initialize bsdlib.\n");
		printk("Fatal error.\n");
		return;
	default:
		break;
	}
	printk("Initialized bsdlib\n");

	modem_configure();

	boot_write_img_confirmed();

	err = application_init();
	if (err != 0) {
    for (int i = 0; i < 5000; i++) {
      printk("Test: %d\n", ml_model[i]);
    }	
		return;
	}
  

	printk("Press Button 1 to start the FOTA download\n");
  printk("Predicted Class: 12\n");
}
